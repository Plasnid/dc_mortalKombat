!function(e){var t={};function o(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),r=o(2),n=o(3),i=new r.default("Grainboy Slim"),d=new n.default("Carlton");new a.default(i,d)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.startingPlayer=0,this.fighter1=e,this.fighter2=t,this.fighters=[this.fighter1,this.fighter2],console.log("%c welcome "+e.tamName+" and "+t.tamName+" to MORTAL KOMBAT!!!!","font-size: 2em; color:red; font-weight:bold; background:black;"),this.initMatch()}return e.prototype.initMatch=function(){console.log("Fight!"),this.startingPlayer=this.determineFirstFighter(),this.meleRound(this.fighters,this.startingPlayer)},e.prototype.determineFirstFighter=function(){return Math.random()>.5?0:1},e.prototype.meleRound=function(e,t){var o=this.determineCombatRoles(t),a=e[o.attacker],r=e[o.defender],n=a.attack(),i=r.defend();if(!0===this.determineStrikeOutcome(n,i)?(console.log("%c"+a.getFighterName()+" hits "+r.getFighterName()+" with "+n.foodName+" for "+n.damage+"!","font-size: 2em; color: red; background: black;"),r.takeDamage(n.damage)):console.log("%c"+a.getFighterName()+" misses "+r.getFighterName()+" with "+n.foodName+"!","font-size: 2em; color:green;background:yellow;"),console.log(a.getFighterName()+": "+a.getHP()+" "+r.getFighterName()+": "+r.getHP()),r.getHP()<=0)console.log("%c"+a.getFighterName()+" has won!","font-size: 3em; color:goldenrod; background:blue; border: 2px solid black;");else{var d=void 0;d=0==t?1:0,this.meleRound(e,d)}},e.prototype.determineCombatRoles=function(e){var t=0;return 0==e&&(t=1),{attacker:e,defender:t}},e.prototype.determineStrikeOutcome=function(e,t){var o=.45;return e.foodCat==t.weakAgainst&&(o*=2),e.foodCat==t.strongAgainst&&(o/=2),Math.random()>=o},e}();t.default=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.defenseCharacteristics={strongAgainst:"fruit",weakAgainst:"meat"},this.tamName=e,this.hp=60,console.log("my name is "+this.tamName),this.foods=[{foodName:"Aggresive Wheat",foodCat:"grain",damage:5},{foodName:"Agitated Niblets",foodCat:"meat",damage:7},{foodName:"Unsettled Apple",foodCat:"fruit",damage:3},{foodName:"Livid Oatmeal",foodCat:"grain",damage:10},{foodName:"Illegal Buckwheat",foodCat:"grain",damage:5},{foodName:"Kid-Friendly Jerky",foodCat:"meat",damage:1},{foodName:"Racially Insensitive Pasta",foodCat:"grain",damage:9},{foodName:"Grandma's Bolognese",foodCat:"meat",damage:5},{foodName:"The Cracker Snatcher",foodCat:"grain",damage:10},{foodName:"Attack Coconut",foodCat:"fruit",damage:5}]}return e.prototype.getFighterName=function(){return this.tamName},e.prototype.defend=function(){return this.defenseCharacteristics},e.prototype.attack=function(){var e=Math.floor(Math.random()*this.foods.length);return this.foods[e]},e.prototype.takeDamage=function(e){this.hp-=e},e.prototype.getHP=function(){return this.hp},e}();t.default=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.defenseCharacteristics={strongAgainst:"meat",weakAgainst:"fruit"},this.tamName=e,this.hp=60,console.log("my name is "+this.tamName),this.foods=[{foodName:"Banana Bazooka",foodCat:"fruit",damage:11},{foodName:"Apple Assault Rifle",foodCat:"fruit",damage:10},{foodName:"Strawberry Stun Gun",foodCat:"fruit",damage:9},{foodName:"Mango Mortar",foodCat:"fruit",damage:6},{foodName:"Grape Gatling Gun",foodCat:"fruit",damage:4},{foodName:"Kiwi Katana",foodCat:"fruit",damage:1},{foodName:"Blueberry Blow Dart",foodCat:"fruit",damage:1},{foodName:"Wheat Whip",foodCat:"grain",damage:9},{foodName:"Rye Rocket",foodCat:"grain",damage:6},{foodName:"Rice Revolver",foodCat:"grain",damage:3}]}return e.prototype.getFighterName=function(){return this.tamName},e.prototype.defend=function(){return this.defenseCharacteristics},e.prototype.attack=function(){return this.foods[Math.floor(Math.random()*this.foods.length)]},e.prototype.takeDamage=function(e){this.hp-=e},e.prototype.getHP=function(){return this.hp},e}();t.default=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9BcmVuYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhaW5ib3kudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Nhcmx0b24udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcmVuYV8xIiwiZ3JhaW5ib3lfMSIsIkNhcmx0b25fMSIsImdyYWluIiwiZGVmYXVsdCIsImNhcmwiLCJBcmVuYSIsImZpZ2h0ZXIxIiwiZmlnaHRlcjIiLCJ0aGlzIiwic3RhcnRpbmdQbGF5ZXIiLCJmaWdodGVycyIsImNvbnNvbGUiLCJsb2ciLCJ0YW1OYW1lIiwiaW5pdE1hdGNoIiwiZGV0ZXJtaW5lRmlyc3RGaWdodGVyIiwibWVsZVJvdW5kIiwiTWF0aCIsInJhbmRvbSIsInBsYXllck51bSIsImNvbWJhdGFudHMiLCJkZXRlcm1pbmVDb21iYXRSb2xlcyIsImF0dGFja2VyIiwiZGVmZW5kZXIiLCJmb29kV2VhcG9uIiwiYXR0YWNrIiwiZGVmZW5zZSIsImRlZmVuZCIsImRldGVybWluZVN0cmlrZU91dGNvbWUiLCJnZXRGaWdodGVyTmFtZSIsImZvb2ROYW1lIiwiZGFtYWdlIiwidGFrZURhbWFnZSIsImdldEhQIiwibmV4dEF0dGFja2VyIiwiYWN0aXZlQXR0YWNrZXIiLCJzdWNjZXNzUmF0ZSIsImZvb2RDYXQiLCJ3ZWFrQWdhaW5zdCIsInN0cm9uZ0FnYWluc3QiLCJHcmFpbmJveVNsaW0iLCJkZWZlbnNlQ2hhcmFjdGVyaXN0aWNzIiwiaHAiLCJmb29kcyIsIm51bSIsImZsb29yIiwibGVuZ3RoIiwiQ2FybHRvbiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FB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SSxPQUFPekIsS0FBS2tDLElBRXBCSyxFQTdEQSxHQWdFQWxGLEVBQUFzQyxRQUFlNEMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IEFyZW5hIGZyb20gJy4vQXJlbmEnO1xuaW1wb3J0IEZpZ2h0ZXJBIGZyb20gJy4vRmlnaHRlckEnO1xuXG5pbXBvcnQgSnVqdSBmcm9tICcuL0p1anUnO1xuaW1wb3J0IE1pZ2h0eVBvdGF0byBmcm9tICcuL01pZ2h0eVBvdGF0byc7XG5cbmltcG9ydCBHcmFpbmJveVNsaW0gZnJvbSAnLi9ncmFpbmJveSc7XG5pbXBvcnQgQ2FybHRvbiBmcm9tICcuL0Nhcmx0b24nO1xuXG5cbmxldCBncmFpbiA9IG5ldyBHcmFpbmJveVNsaW0oXCJHcmFpbmJveSBTbGltXCIpO1xubGV0IGNhcmwgPSBuZXcgQ2FybHRvbihcIkNhcmx0b25cIik7XG5sZXQgdGhpc1JpbmcgPSBuZXcgQXJlbmEoZ3JhaW4sIGNhcmwpO1xuIiwiaW1wb3J0IERpZ2lQZXQgZnJvbSAnLi9EaWdpUGV0JztcbmltcG9ydCBGaWdodENsdWIgZnJvbSAnLi9GaWdodENsdWInO1xuaW1wb3J0IENvbWJhdFJvbGVzIGZyb20gJy4vQ29tYmF0Um9sZXMnO1xuaW1wb3J0IE9mZmVuc2l2ZUZvb2QgZnJvbSAnLi9PZmZlbnNpdmVGb29kJztcbmltcG9ydCBBcm1vciBmcm9tICcuL0FybW9yJztcblxuY2xhc3MgQXJlbmEgaW1wbGVtZW50cyBGaWdodENsdWJ7XG4gICAgZmlnaHRlcjE6IERpZ2lQZXQ7XG4gICAgZmlnaHRlcjI6IERpZ2lQZXQ7XG4gICAgZmlnaHRlcnM6IERpZ2lQZXRbXTtcbiAgICBzdGFydGluZ1BsYXllcjogbnVtYmVyID0gMDtcbiAgICBjb25zdHJ1Y3RvcihmaWdodGVyMTogRGlnaVBldCwgZmlnaHRlcjI6IERpZ2lQZXQpe1xuICAgICAgICB0aGlzLmZpZ2h0ZXIxID0gZmlnaHRlcjE7XG4gICAgICAgIHRoaXMuZmlnaHRlcjIgPSBmaWdodGVyMjtcbiAgICAgICAgdGhpcy5maWdodGVycyA9IFt0aGlzLmZpZ2h0ZXIxLCB0aGlzLmZpZ2h0ZXIyXTtcbiAgICAgICAgY29uc29sZS5sb2coYCVjIHdlbGNvbWUgJHtmaWdodGVyMS50YW1OYW1lfSBhbmQgJHtmaWdodGVyMi50YW1OYW1lfSB0byBNT1JUQUwgS09NQkFUISEhIWAsXCJmb250LXNpemU6IDJlbTsgY29sb3I6cmVkOyBmb250LXdlaWdodDpib2xkOyBiYWNrZ3JvdW5kOmJsYWNrO1wiKTtcbiAgICAgICAgdGhpcy5pbml0TWF0Y2goKTtcbiAgICB9XG4gICAgLy9pbml0aWFsaXplIHRoZSBtYXRjaCFcbiAgICBpbml0TWF0Y2goKTogdm9pZHtcbiAgICAgICAgY29uc29sZS5sb2coXCJGaWdodCFcIik7XG4gICAgICAgIHRoaXMuc3RhcnRpbmdQbGF5ZXIgPSAgdGhpcy5kZXRlcm1pbmVGaXJzdEZpZ2h0ZXIoKTtcbiAgICAgICAgdGhpcy5tZWxlUm91bmQodGhpcy5maWdodGVycywgdGhpcy5zdGFydGluZ1BsYXllcik7XG4gICAgfVxuICAgIC8vcmFuZG9tIGZpcnN0IHN0cmlrZVxuICAgIGRldGVybWluZUZpcnN0RmlnaHRlcigpOiBudW1iZXJ7XG4gICAgICAgIGxldCBmaXJzdEZpZ2h0ZXI6IG51bWJlcjtcbiAgICAgICAgbGV0IGZpZ2h0ZXJDaGFuY2UgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICBpZihmaWdodGVyQ2hhbmNlPi41KXtcbiAgICAgICAgICAgIGZpcnN0RmlnaHRlciA9IDA7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZmlyc3RGaWdodGVyID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlyc3RGaWdodGVyO1xuICAgIH1cbiAgICAvL21lbGVSb3VuZHMgcnVuIHVudGlsIGEgcGxheWVyIHJlYWNoZXMgMCBoaXQgcG9pbnRzXG4gICAgbWVsZVJvdW5kKGZpZ2h0ZXJzOiBEaWdpUGV0W10sIHBsYXllck51bTogbnVtYmVyKTogdm9pZHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInJ1biBhIHJvdW5kIG9mIGZpZ2h0aW5nIVwiKTtcbiAgICAgICAgLy9kZWZpbmUgd2hvIHRoZSBhdHRhY2tlciBpczpcbiAgICAgICAgbGV0IGNvbWJhdGFudHM6IENvbWJhdFJvbGVzID0gdGhpcy5kZXRlcm1pbmVDb21iYXRSb2xlcyhwbGF5ZXJOdW0pOyBcbiAgICAgICAgLy9kZWZpbmUgdGhlIGF0dGFja2VyIGFuZCBkZWZlbmRlciByb2xlczpcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgYXR0YWNrZXI6ICR7Y29tYmF0YW50cy5hdHRhY2tlcn0gIGRlZmVuZGVyOiR7Y29tYmF0YW50cy5kZWZlbmRlcn1gKTtcbiAgICAgICAgbGV0IGF0dGFja2VyOiBEaWdpUGV0ID0gZmlnaHRlcnNbY29tYmF0YW50cy5hdHRhY2tlcl0gYXMgRGlnaVBldDtcbiAgICAgICAgbGV0IGRlZmVuZGVyOiBEaWdpUGV0ID0gZmlnaHRlcnNbY29tYmF0YW50cy5kZWZlbmRlcl0gYXMgRGlnaVBldDtcbiAgICAgICAgLy9ub3cgd2UgZ2V0IHRoZSBmb29kIHR5cGUgdG8gYXR0YWNrIHdpdGhcbiAgICAgICAgbGV0IGZvb2RXZWFwb246IE9mZmVuc2l2ZUZvb2QgPSBhdHRhY2tlci5hdHRhY2soKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhmb29kV2VhcG9uKTtcbiAgICAgICAgLy93ZSBnZXQgdGhlIGRlZmVuc2UgZnJvbSB0aGUgb3Bwb3NpbmcgcGxheWVyXG4gICAgICAgIGxldCBkZWZlbnNlOiBBcm1vciA9IGRlZmVuZGVyLmRlZmVuZCgpO1xuICAgICAgICAvL2NoZWNrIGlmIHRoZSBhdHRhY2sgaGl0XG4gICAgICAgIGxldCBmb29kSGl0OiBib29sZWFuID0gdGhpcy5kZXRlcm1pbmVTdHJpa2VPdXRjb21lKGZvb2RXZWFwb24sIGRlZmVuc2UpO1xuICAgICAgICAvL2FwcGx5IHRoZSBkYW1hZ2VcbiAgICAgICAgaWYoZm9vZEhpdD09PXRydWUpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coYCVjJHthdHRhY2tlci5nZXRGaWdodGVyTmFtZSgpfSBoaXRzICR7ZGVmZW5kZXIuZ2V0RmlnaHRlck5hbWUoKX0gd2l0aCAke2Zvb2RXZWFwb24uZm9vZE5hbWV9IGZvciAke2Zvb2RXZWFwb24uZGFtYWdlfSFgLFwiZm9udC1zaXplOiAyZW07IGNvbG9yOiByZWQ7IGJhY2tncm91bmQ6IGJsYWNrO1wiKTtcbiAgICAgICAgICAgIGRlZmVuZGVyLnRha2VEYW1hZ2UoZm9vZFdlYXBvbi5kYW1hZ2UpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAlYyR7YXR0YWNrZXIuZ2V0RmlnaHRlck5hbWUoKX0gbWlzc2VzICR7ZGVmZW5kZXIuZ2V0RmlnaHRlck5hbWUoKX0gd2l0aCAke2Zvb2RXZWFwb24uZm9vZE5hbWV9IWAsXCJmb250LXNpemU6IDJlbTsgY29sb3I6Z3JlZW47YmFja2dyb3VuZDp5ZWxsb3c7XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2F0dGFja2VyLmdldEZpZ2h0ZXJOYW1lKCl9OiAke2F0dGFja2VyLmdldEhQKCl9ICR7ZGVmZW5kZXIuZ2V0RmlnaHRlck5hbWUoKX06ICR7ZGVmZW5kZXIuZ2V0SFAoKX1gKTtcbiAgICAgICAgLy9jaGVjayBmb3IgMCBhbmQgc2hvdyByZXN1bHRcbiAgICAgICAgaWYoZGVmZW5kZXIuZ2V0SFAoKTw9MCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJWMke2F0dGFja2VyLmdldEZpZ2h0ZXJOYW1lKCl9IGhhcyB3b24hYCxcImZvbnQtc2l6ZTogM2VtOyBjb2xvcjpnb2xkZW5yb2Q7IGJhY2tncm91bmQ6Ymx1ZTsgYm9yZGVyOiAycHggc29saWQgYmxhY2s7XCIpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGxldCBuZXh0QXR0YWNrZXI6IG51bWJlcjtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJOdW09PTApe1xuICAgICAgICAgICAgICAgIG5leHRBdHRhY2tlciA9IDE7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBuZXh0QXR0YWNrZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZWxlUm91bmQoZmlnaHRlcnMsIG5leHRBdHRhY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGV0ZXJtaW5lQ29tYmF0Um9sZXMoYWN0aXZlQXR0YWNrZXI6IG51bWJlcik6IENvbWJhdFJvbGVze1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiZGV0ZXJtaW5lIHRoZSBjb21iYXQgcm9sZXNcIik7XG4gICAgICAgIGxldCBkZWZlbmRlcjogbnVtYmVyID0gMDtcbiAgICAgICAgaWYoYWN0aXZlQXR0YWNrZXI9PTApe1xuICAgICAgICAgICAgZGVmZW5kZXIgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7YXR0YWNrZXI6IGFjdGl2ZUF0dGFja2VyLCBkZWZlbmRlcn07XG4gICAgfVxuICAgIGRldGVybWluZVN0cmlrZU91dGNvbWUoZm9vZFdlYXBvbjogT2ZmZW5zaXZlRm9vZCwgZGVmZW5kOiBBcm1vcik6IGJvb2xlYW57XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ3aWxsIHRoZSBzdHJpa2UgbGFuZD9cIik7XG4gICAgICAgIGxldCBzdWNjZXNzUmF0ZTogbnVtYmVyID0gMC40NTtcbiAgICAgICAgaWYoZm9vZFdlYXBvbi5mb29kQ2F0ID09IGRlZmVuZC53ZWFrQWdhaW5zdCl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBJIGFtIHdlYWsgYWdhaW5zdDogJHtmb29kV2VhcG9uLmZvb2RDYXR9YCk7XG4gICAgICAgICAgICBzdWNjZXNzUmF0ZSo9MjtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHN1Y2Nlc3NSYXRlOiAke3N1Y2Nlc3NSYXRlfWApOyBcbiAgICAgICAgfVxuICAgICAgICBpZihmb29kV2VhcG9uLmZvb2RDYXQgPT0gZGVmZW5kLnN0cm9uZ0FnYWluc3Qpe1xuICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgSSBhbSBzdHJvbmcgYWdhaW5zdDogJHtmb29kV2VhcG9uLmZvb2RDYXR9YCk7XG4gICAgICAgICAgICBzdWNjZXNzUmF0ZSAvPTI7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGBzdWNjZXNzUmF0ZTogJHtzdWNjZXNzUmF0ZX1gKTsgXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhpdFN1Y2Nlc3MgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICBpZihoaXRTdWNjZXNzPj1zdWNjZXNzUmF0ZSl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgQXJlbmE7IiwiLy8gUnlhblxuLy8gQ2FsZWJcbi8vIFRha3V5YVxuaW1wb3J0IERpZ2lQZXQgZnJvbSAnLi9EaWdpUGV0Jztcbi8vRE8gVEhJUzogIGltcG9ydCBBcm1vclxuaW1wb3J0IEFybW9yIGZyb20gJy4vQXJtb3InO1xuLy9ETyBUSElTOiAgaW1wb3J0IE9mZmVuc2l2ZUZvb2RcbmltcG9ydCBPZmZlbnNpdmVGb29kIGZyb20gJy4vT2ZmZW5zaXZlRm9vZCc7XG4vL0RPIFRISVM6Y2hhbmdlIHRoZSBuYW1lIG9mIHRoZSBmaWdodGVyIHRvIG9uZSBvZiB5b3VyIG93biBjaG9vc2luZy4gTWFrZSBpdCBjb29sXG5cblxuY2xhc3MgR3JhaW5ib3lTbGltIGltcGxlbWVudHMgRGlnaVBldHtcbiAgICAvL0RPIFRISVM6ICB5b3UnbGwgbmVlZCB0byBkZWZpbmUgdGFtTmFtZSwgaHBcbiAgICB0YW1OYW1lOnN0cmluZztcbiAgICBocDpudW1iZXI7XG4gICAgXG4gICAgLypcbiAgICBETyBUSElTOiBtYWtlIGFybW9yIGZvciB5b3VyIGZpZ2h0ZXIuICBUaGV5IGFyZSBzdHJvbmcgYWdhaW5zdCB3aGF0IHRoZXkgaGF2ZSBtb3N0IG9mIDMgY2F0ZXJvZ2llczpcbiAgICAgICAgLWZydWl0KHN0cm9uZyBhZ2FpbnN0IGZydWl0LCB3ZWFrIGFnYWluc3QgZ3JhaW4pXG4gICAgICAgIC1tZWF0KHN0cm9uZyBhZ2FpbnN0IG1lYXQsIHdlYWsgYWdhaW5zdCBmcnVpdClcbiAgICAgICAgLWdyYWluKHN0cm9uZyBhZ2FpbnN0IGdyYWluLCB3ZWFrIGFnYWluc3QgbWVhdClcbiAgICAqL1xuICAgIGRlZmVuc2VDaGFyYWN0ZXJpc3RpY3M6IEFybW9yID0ge3N0cm9uZ0FnYWluc3Q6ICdmcnVpdCcsIHdlYWtBZ2FpbnN0OiAnbWVhdCd9O1xuXG4gICAgLy9ETyBUSElTOiAgZGVjbGFyZSBhbiBhcnJheSBjYWxsZWQgZm9vZHMgdGhhdCBpcyBtYWRlIG9mIE9mZmVuc2l2ZUZvb2Qgd2VhcG9uc1xuICAgIGZvb2RzOiBPZmZlbnNpdmVGb29kW107XG5cbiAgICAvL0RPIFRISVM6IGhhdmUgeW91ciBjb25zdHJ1Y3RvciB0YWtlIGluIHRhbU5hbWUgd2hpY2ggd2lsbCBiZSB5b3VyIGZpZ2h0ZXJzIG5hbWUgaW4gdGhlIHJpbmdcbiAgICBjb25zdHJ1Y3Rvcih0YW1OYW1lOiBzdHJpbmcpe1xuICAgICAgICB0aGlzLnRhbU5hbWUgPSB0YW1OYW1lO1xuICAgICAgICB0aGlzLmhwID0gNjA7XG4gICAgICAgIGNvbnNvbGUubG9nKGBteSBuYW1lIGlzICR7dGhpcy50YW1OYW1lfWApO1xuXG4gICAgICAgIC8vRE8gVEhJUzogIHVzZSAndGhpcycgYW5kIGZvb2RzIHRvIG1ha2UgYW4gYXJyYXkgb2YgT2ZmZW5zaXZlRm9vZHNcbiAgICAgICAgdGhpcy5mb29kcyA9IFtcbiAgICAgICAgICAgIHtmb29kTmFtZTogXCJBZ2dyZXNpdmUgV2hlYXRcIiwgZm9vZENhdDogXCJncmFpblwiLCBkYW1hZ2U6IDUgfSxcbiAgICAgICAgICAgIHtmb29kTmFtZTogXCJBZ2l0YXRlZCBOaWJsZXRzXCIsIGZvb2RDYXQ6IFwibWVhdFwiLCBkYW1hZ2U6IDcgfSxcbiAgICAgICAgICAgIHtmb29kTmFtZTogXCJVbnNldHRsZWQgQXBwbGVcIiwgZm9vZENhdDogXCJmcnVpdFwiLCBkYW1hZ2U6IDMgfSxcbiAgICAgICAgICAgIHtmb29kTmFtZTogXCJMaXZpZCBPYXRtZWFsXCIsIGZvb2RDYXQ6IFwiZ3JhaW5cIiwgZGFtYWdlOiAxMCB9LFxuICAgICAgICAgICAge2Zvb2ROYW1lOiBcIklsbGVnYWwgQnVja3doZWF0XCIsIGZvb2RDYXQ6IFwiZ3JhaW5cIiwgZGFtYWdlOiA1IH0sXG4gICAgICAgICAgICB7Zm9vZE5hbWU6IFwiS2lkLUZyaWVuZGx5IEplcmt5XCIsIGZvb2RDYXQ6IFwibWVhdFwiLCBkYW1hZ2U6IDEgfSxcbiAgICAgICAgICAgIHtmb29kTmFtZTogXCJSYWNpYWxseSBJbnNlbnNpdGl2ZSBQYXN0YVwiLCBmb29kQ2F0OiBcImdyYWluXCIsIGRhbWFnZTogOSB9LFxuICAgICAgICAgICAge2Zvb2ROYW1lOiBcIkdyYW5kbWEncyBCb2xvZ25lc2VcIiwgZm9vZENhdDogXCJtZWF0XCIsIGRhbWFnZTogNSB9LFxuICAgICAgICAgICAge2Zvb2ROYW1lOiBcIlRoZSBDcmFja2VyIFNuYXRjaGVyXCIsIGZvb2RDYXQ6IFwiZ3JhaW5cIiwgZGFtYWdlOiAxMCB9LFxuICAgICAgICAgICAge2Zvb2ROYW1lOiBcIkF0dGFjayBDb2NvbnV0XCIsIGZvb2RDYXQ6IFwiZnJ1aXRcIiwgZGFtYWdlOiA1IH0sXG4gICAgICAgIF1cblxuICAgIH1cblxuICAgIC8vRE8gVEhJUzogIG1ha2UgYSBmdW5jdGlvbiB0aGF0IHdpbGwgcmV0dXJuIHlvdXIgZmlnaHRlcnMgbmFtZVxuICAgIHB1YmxpYyBnZXRGaWdodGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50YW1OYW1lO1xuICAgIH1cblxuICAgIC8vRE8gVEhJUzogIG1ha2UgYSBkZWZlbmQgZnVuY3Rpb24gdGhhdCB3aWxsIHJldHVybiB0aGUgdXNlcnMgQXJtb3JcbiAgICBwdWJsaWMgZGVmZW5kKCk6IEFybW9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmZW5zZUNoYXJhY3RlcmlzdGljcztcbiAgICB9XG5cbiAgICAvL0RPIFRISVM6ICBtYWtlIGFuIGF0dGFjayBmdW5jdGlvbiB0aGF0IHdpbGwgcmV0dXJuIGEgcmFuZG9tIE9mZmVuc2l2ZUZvb2Qgd2VhcG9uXG4gICAgcHVibGljIGF0dGFjaygpOiBPZmZlbnNpdmVGb29kIHtcbiAgICAgICAgY29uc3QgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5mb29kcy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5mb29kc1tudW1dO1xuICAgIH1cblxuICAgIC8vRE8gVEhJUzogIG1ha2UgYSB0YWtlRGFtYWdlIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaW4gYSBudW1iZXIgYW5kIHJlZHVjZXMgaHBcbiAgICB0YWtlRGFtYWdlKGRhbWFnZTogbnVtYmVyKTogdm9pZHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ0YWtlbiBkYW1hZ2VcIik7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5ocCk7XG4gICAgfVxuXG4gICAgLy9ETyBUSElTOiAgbWFrZSBhIGdldEhQIGZ1bmN0aW9uIHRoYXQgd2lsbCByZXR1cm4gdGhlIHVzZXJzIGN1cnJlbnQgaHBcbiAgICBwdWJsaWMgZ2V0SFAoKTogbnVtYmVyIHtcbiAgICAgICByZXR1cm4gdGhpcy5ocDsgXG4gICAgfVxufVxuXG4vL0RPIFRISVM6ICBjaGFuZ2UgRmlnaHRlckEgdG8geW91ciBmaWdodGVycyBjb29sIGNsYXNzIG5hbWVcbmV4cG9ydCBkZWZhdWx0IEdyYWluYm95U2xpbTsiLCIvLyBUZXZhaW4sIEtldHVsLCBNaWtlXG5pbXBvcnQgRGlnaVBldCBmcm9tICcuL0RpZ2lQZXQnO1xuXG4vL0RPIFRISVM6ICBpbXBvcnQgQXJtb3JcbmltcG9ydCBBcm1vciBmcm9tICcuL0FybW9yJztcblxuLy9ETyBUSElTOiAgaW1wb3J0IE9mZmVuc2l2ZUZvb2RcbmltcG9ydCBPZmZlbnNpdmVGb29kIGZyb20gJy4vT2ZmZW5zaXZlRm9vZCc7XG5cbi8vRE8gVEhJUzpjaGFuZ2UgdGhlIG5hbWUgb2YgdGhlIGZpZ2h0ZXIgdG8gb25lIG9mIHlvdXIgb3duIGNob29zaW5nLiBNYWtlIGl0IGNvb2xcblxuY2xhc3MgQ2FybHRvbiBpbXBsZW1lbnRzIERpZ2lQZXQge1xuICAgIC8vRE8gVEhJUzogIHlvdSdsbCBuZWVkIHRvIGRlZmluZSB0YW1OYW1lLCBocFxuICAgIHRhbU5hbWU6IHN0cmluZztcbiAgICBocDogbnVtYmVyO1xuXG4gICAgLypcbiAgICBETyBUSElTOiBtYWtlIGFybW9yIGZvciB5b3VyIGZpZ2h0ZXIuICBUaGV5IGFyZSBzdHJvbmcgYWdhaW5zdCB3aGF0IHRoZXkgaGF2ZSBtb3N0IG9mIDMgY2F0ZXJvZ2llczpcbiAgICAgICAgLWZydWl0KHN0cm9uZyBhZ2FpbnN0IGZydWl0LCB3ZWFrIGFnYWluc3QgZ3JhaW4pXG4gICAgICAgIC1tZWF0KHN0cm9uZyBhZ2FpbnN0IG1lYXQsIHdlYWsgYWdhaW5zdCBmcnVpdClcbiAgICAgICAgLWdyYWluKHN0cm9uZyBhZ2FpbnN0IGdyYWluLCB3ZWFrIGFnYWluc3QgbWVhdClcbiAgICAqL1xuICAgIGRlZmVuc2VDaGFyYWN0ZXJpc3RpY3M6IEFybW9yID0geyBzdHJvbmdBZ2FpbnN0OiAnbWVhdCcsIHdlYWtBZ2FpbnN0OiAnZnJ1aXQnIH07XG5cbiAgICAvL0RPIFRISVM6ICBkZWNsYXJlIGFuIGFycmF5IGNhbGxlZCBmb29kcyB0aGF0IGlzIG1hZGUgb2YgT2ZmZW5zaXZlRm9vZCB3ZWFwb25zXG4gICAgZm9vZHM6IE9mZmVuc2l2ZUZvb2RbXTtcblxuICAgIC8vRE8gVEhJUzogaGF2ZSB5b3VyIGNvbnN0cnVjdG9yIHRha2UgaW4gdGFtTmFtZSB3aGljaCB3aWxsIGJlIHlvdXIgZmlnaHRlcnMgbmFtZSBpbiB0aGUgcmluZ1xuICAgIGNvbnN0cnVjdG9yKHRhbU5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnRhbU5hbWUgPSB0YW1OYW1lO1xuICAgICAgICB0aGlzLmhwID0gNjA7XG4gICAgICAgIGNvbnNvbGUubG9nKGBteSBuYW1lIGlzICR7dGhpcy50YW1OYW1lfWApO1xuXG4gICAgICAgIC8vRE8gVEhJUzogIHVzZSAndGhpcycgYW5kIGZvb2RzIHRvIG1ha2UgYW4gYXJyYXkgb2YgT2ZmZW5zaXZlRm9vZHNcbiAgICAgICAgdGhpcy5mb29kcyA9IFtcbiAgICAgICAgICAgIHsgZm9vZE5hbWU6ICdCYW5hbmEgQmF6b29rYScsIGZvb2RDYXQ6ICdmcnVpdCcsIGRhbWFnZTogMTEgfSxcbiAgICAgICAgICAgIHsgZm9vZE5hbWU6ICdBcHBsZSBBc3NhdWx0IFJpZmxlJywgZm9vZENhdDogJ2ZydWl0JywgZGFtYWdlOiAxMCB9LFxuICAgICAgICAgICAgeyBmb29kTmFtZTogJ1N0cmF3YmVycnkgU3R1biBHdW4nLCBmb29kQ2F0OiAnZnJ1aXQnLCBkYW1hZ2U6IDkgfSxcbiAgICAgICAgICAgIHsgZm9vZE5hbWU6ICdNYW5nbyBNb3J0YXInLCBmb29kQ2F0OiAnZnJ1aXQnLCBkYW1hZ2U6IDYgfSxcbiAgICAgICAgICAgIHsgZm9vZE5hbWU6ICdHcmFwZSBHYXRsaW5nIEd1bicsIGZvb2RDYXQ6ICdmcnVpdCcsIGRhbWFnZTogNCB9LFxuICAgICAgICAgICAgeyBmb29kTmFtZTogJ0tpd2kgS2F0YW5hJywgZm9vZENhdDogJ2ZydWl0JywgZGFtYWdlOiAxIH0sXG4gICAgICAgICAgICB7IGZvb2ROYW1lOiAnQmx1ZWJlcnJ5IEJsb3cgRGFydCcsIGZvb2RDYXQ6ICdmcnVpdCcsIGRhbWFnZTogMSB9LFxuICAgICAgICAgICAgeyBmb29kTmFtZTogJ1doZWF0IFdoaXAnLCBmb29kQ2F0OiAnZ3JhaW4nLCBkYW1hZ2U6IDkgfSxcbiAgICAgICAgICAgIHsgZm9vZE5hbWU6ICdSeWUgUm9ja2V0JywgZm9vZENhdDogJ2dyYWluJywgZGFtYWdlOiA2IH0sXG4gICAgICAgICAgICB7IGZvb2ROYW1lOiAnUmljZSBSZXZvbHZlcicsIGZvb2RDYXQ6ICdncmFpbicsIGRhbWFnZTogMyB9LFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIC8vRE8gVEhJUzogIG1ha2UgYSBmdW5jdGlvbiB0aGF0IHdpbGwgcmV0dXJuIHlvdXIgZmlnaHRlcnMgbmFtZVxuICAgIHB1YmxpYyBnZXRGaWdodGVyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50YW1OYW1lO1xuICAgIH1cblxuICAgIC8vRE8gVEhJUzogIG1ha2UgYSBkZWZlbmQgZnVuY3Rpb24gdGhhdCB3aWxsIHJldHVybiB0aGUgdXNlcnMgQXJtb3JcbiAgICBwdWJsaWMgZGVmZW5kKCk6IEFybW9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmZW5zZUNoYXJhY3RlcmlzdGljcztcbiAgICB9XG5cbiAgICAvL0RPIFRISVM6ICBtYWtlIGFuIGF0dGFjayBmdW5jdGlvbiB0aGF0IHdpbGwgcmV0dXJuIGEgcmFuZG9tIE9mZmVuc2l2ZUZvb2Qgd2VhcG9uXG4gICAgcHVibGljIGF0dGFjaygpOiBPZmZlbnNpdmVGb29kIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9vZHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5mb29kcy5sZW5ndGgpXTtcbiAgICB9XG5cbiAgICAvL0RPIFRISVM6ICBtYWtlIGEgdGFrZURhbWFnZSBmdW5jdGlvbiB0aGF0IHRha2VzIGluIGEgbnVtYmVyIGFuZCByZWR1Y2VzIGhwXG4gICAgcHVibGljIHRha2VEYW1hZ2UoZGFtYWdlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ocCAtPSBkYW1hZ2U7XG4gICAgfVxuXG4gICAgLy9ETyBUSElTOiAgbWFrZSBhIGdldEhQIGZ1bmN0aW9uIHRoYXQgd2lsbCByZXR1cm4gdGhlIHVzZXJzIGN1cnJlbnQgaHBcbiAgICBwdWJsaWMgZ2V0SFAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHA7XG4gICAgfVxufVxuXG4vL0RPIFRISVM6ICBjaGFuZ2UgRmlnaHRlckEgdG8geW91ciBmaWdodGVycyBjb29sIGNsYXNzIG5hbWVcbmV4cG9ydCBkZWZhdWx0IENhcmx0b247Il0sInNvdXJjZVJvb3QiOiIifQ==